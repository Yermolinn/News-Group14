{"mappings":"imBAsBA,IAAAA,EACAC,E,iJArBA,IAAIC,EAAU,GAoBdF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,G,EAelCL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,C,KCnBTE,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,iJCAzDH,EAAA,S,kECAA,IAAAI,EAAAJ,EAAA,SAMA,IAAIK,EAAa,GACbC,EAAa,GAIjBC,QAAQC,IAAIH,GAMZ,WACE,QAAkDI,IAA9CL,EAAAM,QAAoBC,KAAK,iBAC3B,OAEFN,EAAaD,EAAAM,QAAoBC,KAAK,gB,CAPxCC,GAUA,WACE,QAA6CH,IAAzCL,EAAAM,QAAoBC,KAAK,YAE3B,YADAL,EAAa,IAGfA,EAAaF,EAAAM,QAAoBC,KAAK,W,CAdxCE,G,MCfAC,EAAiB,IAAAC,IAAoBf,EAAA,SAAAgB,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,WD8C5F,MAAMC,EACG,IAAAN,IAAAD,GAGT,SAASQ,EAAcC,GAGS,MAAvB,yFAEcF,KAAgBE,2B,CAKcD,EACnD,wBAE2DA,EAC3D,qB,uDEhEFlB,EAAAJ,EAAA,SAEA,MAIMwB,EAAaC,SAASC,eAAe,YACrCC,EAAiBF,SAASC,eAAe,mBAE/CF,EAAWI,iBAAiB,UAG5B,WACE,MAAMC,EAAeL,EAAWM,QAVhB,OACC,QAYZH,EAAeG,QAbJ,SAYhBD,EAIAJ,SAASM,KAAKC,UAAYH,EAE1BzB,EAAAM,QAAoBuB,KAnBE,cAmBoBJ,E,IAX5CF,EAAeC,iBAAiB,UAchC,WACE,MAAMC,EAAeF,EAAeG,QAtBpB,OACC,QAwBZN,EAAWM,QAzBA,SAwBhBD,EAIAJ,SAASM,KAAKC,UAAYH,EAE3BzB,EAAAM,QAAoBuB,KA/BG,cA+BmBJ,E,IAG3C,WACE,MAAMK,EAAY9B,EAAAM,QAAoBC,KAnChB,eAqCJ,KAAduB,GAnCa,UAmCOA,GACtBT,SAASM,KAAKC,UApCC,QAsCfR,EAAWM,SAAU,EACrBH,EAAeG,SAAU,GAxCX,SA0CLI,IACTT,SAASM,KAAKC,UA3CA,OA6CdR,EAAWM,SAAU,EACrBH,EAAeG,SAAU,E,CAI7BK,G","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-70085cce413cfcd5.js","src/favorite.js","src/components/render/render.js","node_modules/@parcel/runtime-js/lib/runtime-643dfc921be0cb37.js","src/components/modeSwitcher/modeSwitcher.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"kHKil\\\":\\\"favorite.8fd7d67a.js\\\",\\\"lp5u4\\\":\\\"sprite.f79beced.svg\\\",\\\"hmz2r\\\":\\\"read.c193daba.js\\\"}\"));","import './components/header/input-hover';\nimport './components/header/open-menu';\nimport './components/header/close-menu';\nimport './components/header/current-page';\nimport './components/header/menu-current-page';\nimport './components/articlesSearch/articlesSearch.js';\nimport './components/timesNewswire/timesNewswire';\n// import './components/mostPopular/mostPopular';\nimport './components/render/render.js';\nimport './components/button/button.js';\nimport './components/favoriteNews/favoriteNews.js';\nimport './components/footer/footer.js';\nimport './components/preLoader/preLoader.js';\nimport './components/main/main.js';\nimport './components/modeSwitcher/modeSwitcher.js';\n// import './components/newsCard/newsCard.js';\nimport './components/pagination/pagination.js';\n// import './components/readNews/readNews.js';","import localStorageService from '../localStorageService/localStorageService';\n\n//\n// Перевірка на локалсторедж\n//\n\nlet readMoreId = [];\nlet favoriteId = [];\nlet defaultImg = `https://cdn.create.vista.com/api/media/small/251043028/stock-photo-selective-focus-black-news-lettering`;\n\n// readMoreId = localStorageService.save('readMoreLocal', readMoreId);\nconsole.log(readMoreId);\n\n// console.log(localStorageService.load('readMoreLocal').map(elem => elem));\nisReadEmpty();\nisFavoriteEmpty();\n\nfunction isReadEmpty() {\n  if (localStorageService.load('readMoreLocal') === undefined) {\n    return;\n  }\n  readMoreId = localStorageService.load('readMoreLocal');\n}\n\nfunction isFavoriteEmpty() {\n  if (localStorageService.load('favorite') === undefined) {\n    favoriteId = [];\n    return;\n  }\n  favoriteId = localStorageService.load('favorite');\n}\n\nexport function checkLokalStorage(elem, localArr) {\n  if (localArr === undefined) {\n    return;\n  }\n\n  for (let i = 0; i < localArr.length; i += 1) {\n    if (localArr[i].uri === elem.uri) {\n      return true;\n    }\n  }\n}\n//\n//            FAVORITE FUNCTIONAL\n//\nconst refs = {\n  iconSvg: new URL('../../images/sprite.svg', import.meta.url),\n};\n\nfunction createSvgIcon(name) {\n  // створює іконки, але ТІЛЬКИ сердечка\n\n  return `\n    <svg class=\"icon-favorite-remove\" width=\"16\" height=\"16\">\n          <use href=\"${refs.iconSvg}#${name}\"></use>\n    </svg>\n  `;\n}\n\nexport const addFavoriteBtnHTML = `Add to favorite ${createSvgIcon(\n  'icon-favorite-remove'\n)}`;\nexport const removeFavoriteBtnHTML = `Remove from favorite ${createSvgIcon(\n  'icon-favorite-add'\n)}`;\nexport const alreadyRead = `Already read`;\nexport const handleFavorite = (isFav, data, btn) => () => {\n  // логіка кнопки фейворіт\n  btn.classList.toggle('favorite-btn--active');\n\n  if (btn.classList.contains('favorite-btn--active')) {\n    isFav = true;\n    btn.innerHTML = removeFavoriteBtnHTML;\n    for (let i = 0; i < favoriteId.length; i += 1) {\n      if (favoriteId[i].uri === data.uri) {\n        return;\n      }\n    }\n    data.favorite = isFav;\n    favoriteId.push(data);\n    localStorageService.save('favorite', favoriteId);\n  } else {\n    isFav = false;\n    btn.innerHTML = addFavoriteBtnHTML;\n    const index = favoriteId.findIndex(item => item.uri === data.uri);\n    favoriteId.splice(index, 1);\n    localStorageService.save('favorite', favoriteId);\n  }\n};\nexport const handleRead = (data, p, card) => () => {\n  // логіка натискання на read more\n  p.innerHTML = alreadyRead;\n  card.classList.add('opacity');\n  let dateOfRead = new Date()\n    .toLocaleDateString({\n      day: '2-digit',\n      month: '2-digit',\n      year: 'numeric',\n    })\n    .replace(/\\//g, '.');\n  data.dayRead = dateOfRead;\n  console.log(data);\n  for (let i = 0; i < readMoreId.length; i += 1) {\n    if (readMoreId[i].uri === data.uri) {\n      return;\n    }\n  }\n  readMoreId.push(data);\n  localStorageService.save(`readMoreLocal`, readMoreId);\n};\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lp5u4\")).toString();","import localStorageService from '../localStorageService/localStorageService';\n\nconst SWITCH_MODE_KEY = 'currentMode';\nconst DARK_MODE = 'dark';\nconst LIGHT_MODE = 'light';\n\nconst checkboxEl = document.getElementById('checkbox');\nconst checkboxMenuEl = document.getElementById('checkbox-toggle');\n\ncheckboxEl.addEventListener('change', onModeChange);\ncheckboxMenuEl.addEventListener('change', onModeChangeInMenu);\n\nfunction onModeChange() {\n  const selectedMode = checkboxEl.checked ? DARK_MODE : LIGHT_MODE;\n\n  selectedMode === DARK_MODE\n    ? (checkboxMenuEl.checked = true)\n    : (checkboxMenuEl.checked = false);\n\n  document.body.className = selectedMode;\n\n  localStorageService.save(SWITCH_MODE_KEY, selectedMode);\n}\n\nfunction onModeChangeInMenu() {\n  const selectedMode = checkboxMenuEl.checked ? DARK_MODE : LIGHT_MODE;\n\n  selectedMode === DARK_MODE\n    ? (checkboxEl.checked = true)\n    : (checkboxEl.checked = false);\n\n  document.body.className = selectedMode;\n\n localStorageService.save(SWITCH_MODE_KEY, selectedMode);\n}\n\nfunction onGetMode() {\n  const sevedMode = localStorageService.load(SWITCH_MODE_KEY);\n\n  if (sevedMode === '' || sevedMode === LIGHT_MODE) {\n    document.body.className = LIGHT_MODE;\n\n    checkboxEl.checked = false;\n    checkboxMenuEl.checked = false;\n    \n  } else if (sevedMode === DARK_MODE) {\n    document.body.className = DARK_MODE;\n\n    checkboxEl.checked = true;\n    checkboxMenuEl.checked = true;\n  }\n}\n\nonGetMode();\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$1EaU7","$7731c6fb6993e11c$var$readMoreId","$7731c6fb6993e11c$var$favoriteId","console","log","undefined","default","load","$7731c6fb6993e11c$var$isReadEmpty","$7731c6fb6993e11c$var$isFavoriteEmpty","$a4212a039eccdb43$exports","URL","resolve","import","meta","url","toString","$7731c6fb6993e11c$var$refs","$7731c6fb6993e11c$var$createSvgIcon","name","$3fc4bb1580447ce3$var$checkboxEl","document","getElementById","$3fc4bb1580447ce3$var$checkboxMenuEl","addEventListener","selectedMode","checked","body","className","save","sevedMode","$3fc4bb1580447ce3$var$onGetMode"],"version":3,"file":"favorite.8fd7d67a.js.map"}