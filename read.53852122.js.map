{"mappings":"imBAsBA,IAAAA,EACAC,E,iJArBA,IAAIC,EAAU,GAoBdF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,G,EAelCL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,C,KCnBTE,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,6ICEzD,IAAAC,EAAAJ,EAAA,S,aAUwBK,SAASC,cAAc,wBAA/C,MAGMC,EAAgBH,EAAAI,QAAoBC,KAAK,iB,MCf/CC,EAAiB,IAAAC,IAAoBX,EAAA,SAAAY,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,WDqBnF,IAAAL,IAAAD,GAGT,IAAIO,EAAI,EACJC,EAAW,EACf,MACMC,EAAS,GACf,GAAIZ,EAAe,CACjB,IAAK,IAAIZ,EAAI,EAAGA,EAAIY,EAAcX,OAAQD,GAAK,EAAG,CAChDyB,YAAW,KACT,MAAMC,EAAMhB,SAASC,cACnB,kBAAkBC,EAAcZ,GAAGE,MAE/ByB,EAAOjB,SAASC,cAAc,eAAeC,EAAcZ,GAAGE,MAC1DQ,SAASC,cAAc,YAAYC,EAAcZ,GAAGE,MAC7CQ,SAASC,cACxB,eAAeC,EAAcZ,GAAGE,MAElC0B,QAAQC,IAAIH,GACZE,QAAQC,IAAIF,GAEZ,IACIG,EAAgBrB,EAAAI,QAAoBC,KAAK,aAEvB,KADF,EAAAiB,EAAAC,mBAAkBpB,EAAcZ,GAAI8B,KAEtDJ,EAAIO,UAAYF,EAAAG,sBAChBR,EAAIS,UAAUC,IAAI,yBAGpBV,EAAIW,SAAU,EAAAN,EAAAO,iBARF,EAQwB1B,EAAcZ,GAAI0B,EAAI,GACzD,GASCH,GACFC,EAAOe,KAAK,uGAEc3B,EAAcZ,GAAGwC,mYAO7ChB,EAAOe,KAAK,oCAAuC3B,EAAcZ,GAAGE,qBAAuBF,qFAGxEY,EAAcZ,GAAGyC,iMAMI7B,EAAcZ,GAAGE,8FAEvBU,EAAcZ,GAAG0C,gGAEM9B,EAAcZ,GAAGE,gBACxEU,EAAcZ,GAAGE,yBAEL6B,EAAAY,wIAIoB/B,EAAcZ,GAAG4C,iDACnBhC,EAAcZ,GAAG6C,oGAEdjC,EAAcZ,GAAG8C,KACrCC,MAAM,EAAG,IACTC,WAAW,IAAK,4DACiBpC,EAAcZ,GAAGE,kBAC/DU,EAAcZ,GAAGoB,oIAOfR,EAAcX,OAAS,EACzBsB,EAAW,GAEPD,EAAIV,EAAcX,SACpBsB,EAAW0B,KAAKC,IACdtC,EAAcZ,GAAGwC,QAAQW,QAAO,WAAa,IAC3CvC,EAAcU,GAAGkB,QAAQW,QAAO,WAAa,KAEjD7B,KAEEC,GACFC,EAAOe,KAAK,wB,CAKlB7B,SACGC,cAAc,mBACdyC,mBAAmB,YAAa5B,EAAO6B,KAAK,KAE/C,IAAIC,EAAe5C,SAAS6C,iBAAiB,qBAG7C,IAAKC,MAAMF,G,MAIX9B,EAAOe,KACL,kyBAEF7B,SACGC,cAAc,mBACdyC,mBAAmB,YAAa5B,EAAO6B,KAAK,K","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-cd6a882627e9f244.js","src/components/readNews/readNews.js","node_modules/@parcel/runtime-js/lib/runtime-643dfc921be0cb37.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"jewIc\\\":\\\"read.53852122.js\\\",\\\"lp5u4\\\":\\\"sprite.c6d7d16d.svg\\\",\\\"hmz2r\\\":\\\"read.5fe75de4.js\\\"}\"));","// import '../render/addToFavoriteBtn';\n\nimport localStorageService from '../localStorageService/localStorageService';\nimport {\n  checkLokalStorage,\n  removeFavoriteBtnHTML,\n  addFavoriteBtnHTML,\n  alreadyRead,\n  handleFavorite,\n  handleRead,\n} from '../render/render';\n\nconst favCollectionEl = document.querySelector('.favorite-collection');\n// console.log(favCollectionEl);\n\nconst cardFromLocal = localStorageService.load('readMoreLocal');\n\n// console.log(cardFromLocal)\n// const cardFromLocal = JSON.parse(localStorage.getItem('readMoreLocal'));\n// console.log(cardFromLocal);\nconst refs = {\n  iconSvg: new URL('../../images/sprite.svg', import.meta.url),\n};\n\nlet j = 1;\nlet readDate = 1;\nconst arrayForCollection = [];\nconst markUp = [];\nif (cardFromLocal) {\n  for (let i = 0; i < cardFromLocal.length; i += 1) {\n    setTimeout(() => {\n      const btn = document.querySelector(\n        `.favorite-btn--${cardFromLocal[i].id}`\n      );\n      const link = document.querySelector(`.news-link--${cardFromLocal[i].id}`);\n      const p = document.querySelector(`.isread--${cardFromLocal[i].id}`);\n      const newsCard = document.querySelector(\n        `.news-card--${cardFromLocal[i].id}`\n      );\n      console.log(btn);\n      console.log(link);\n\n      let isFav = true;\n      let localFavorite = localStorageService.load('favorite');\n      let checkFavorite = checkLokalStorage(cardFromLocal[i], localFavorite);\n      if (checkFavorite === true) {\n        btn.innerHTML = removeFavoriteBtnHTML;\n        btn.classList.add('favorite-btn--active');\n      }\n\n      btn.onclick = handleFavorite(isFav, cardFromLocal[i], btn);\n    }, 0);\n\n    // console.log(cardFromLocal[i].title);\n    // let image = `https://cdn.create.vista.com/api/media/small/251043028/stock-photo-selective-focus-black-news-lettering`;\n    // if (cardFromLocal[i].media.length !== 0) {\n    //   image = cardFromLocal[i].media[0]['media-metadata'][2].url;\n    // }\n    // console.log(readDate);\n    let headCard = false;\n    if (readDate) {\n      markUp.push(`<div class=\"read--date--card\">\n        <div class=\"read--one--day\">\n        <a class=\"read--date\">${cardFromLocal[i].dayRead}</a>\n        <svg class=\"read--contacts__svg\" width=\"15px\" height=\"9px\"><use href=\"./sprite.f14d31f7.svg#icon-arrow-up\"></use></svg>\n        <svg class=\"read--contacts__svg_hid read--is-hidden\" width=\"15px\" height=\"9px\"><use href=\"./sprite.f14d31f7.svg#icon-arrow-down\"></use></svg>\n        </div>\n         <div class= \"read--day\"> <div class=\"read--news-cards news-list\">`);\n    }\n\n    markUp.push(`<div class=\"news-card ${`news-card--${cardFromLocal[i].id}`} grid grid-item-${i}\">\n            <div class=\"top-wrap\">\n              <img\n                src=\"${cardFromLocal[i].image}\"\n                loading=\"lazy\"\n                width=\"288\"\n                height=\"395\"\n                class=\"news-img\"\n              />\n              <p class=\"isread ${`isread--${cardFromLocal[i].id}`}\"></p>\n                <div class=\"category-wrap\">\n                <p class=\"top-text\">${cardFromLocal[i].section}</p>\n                </div>\n              <button class=\"favorite-btn ${`favorite-btn--${cardFromLocal[i].id}`}\" data-id=\"${\n      cardFromLocal[i].id\n    }\">\n                ${addFavoriteBtnHTML}\n              </button>\n            </div>\n            <div class=\"info\">\n              <h2 class=\"info-item\">${cardFromLocal[i].title}</h2>\n              <p class=\"describe\">${cardFromLocal[i].description}</p>\n              <div class=\"lower-content\">\n                <p class=\"news-date\">${cardFromLocal[i].date\n                  .slice(0, 10)\n                  .replaceAll('-', '/')}</p>\n                <a class=\"news-link ${`news-link--${cardFromLocal[i].id}`} link\" href=\"${\n      cardFromLocal[i].url\n    }\"  onclick=\"handleRead()\" target=\"_blank\">Read more</a>\n              </div>\n            </div>\n          </div>\n        `);\n    // console.log(markUp);\n    if (cardFromLocal.length < 2) {\n      readDate = 0;\n    } else {\n      if (j < cardFromLocal.length) {\n        readDate = Math.abs(\n          cardFromLocal[i].dayRead.replace(/[\\s.,%]/g, '') -\n            cardFromLocal[j].dayRead.replace(/[\\s.,%]/g, '')\n        );\n        j++;\n      }\n      if (readDate) {\n        markUp.push(`</div> </div> </div>`);\n      }\n    }\n  }\n  //\n  document\n    .querySelector('.readCollection')\n    .insertAdjacentHTML('beforeend', markUp.join(''));\n\n  let dateCardsEls = document.querySelectorAll('.read--date--card');\n  // console.log(dateCardsEls);\n\n  for (el of dateCardsEls) {\n    // console.log(el);\n  }\n} else {\n  markUp.push(\n    `<section class=\"read--underfined\">  <p class=\"read--underfined___title\">We haven't found news from <br> this category</p> <picture> <source srcset=\"./src/images/img-error-mobile-x1.png 1x, ./src/images/img-error-mobile-x2.png 2x\" type=\"image/png\" media=\"(max-width: 479.98px)\" alt=\"underfined-picture\"> <source srcset=\"./src/images/img-error-tablet-x1.png 1x 1x, ./src/images/img-error-tablet-x2.png 2x\" type=\"image/png\" media=\"(max-width:767.98px)\" alt=\"underfined-picture\"> <source srcset=\"./src/images/img-error-x1.png 1x, ./src/images/img-error-x2.png 2x\" type=\"image/png\" media=\"(min-width: 1279.98px)\" alt=\"underfined-picture\"> <img class=\"read--underfined___picture\" src=\"/goIt-news-team-project/mobile.9ca3fe39.png\" alt=\"underfined-picture\" width=\"248\" height=\"198\"> </picture>  </section>`\n  );\n  document\n    .querySelector('.readCollection')\n    .insertAdjacentHTML('beforeend', markUp.join(''));\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lp5u4\")).toString();"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$1EaU7","document","querySelector","$8b55f99df6f8e671$var$cardFromLocal","default","load","$a4212a039eccdb43$exports","URL","resolve","import","meta","url","toString","$8b55f99df6f8e671$var$j","$8b55f99df6f8e671$var$readDate","$8b55f99df6f8e671$var$markUp","setTimeout","btn","link","console","log","localFavorite","$aet5G","checkLokalStorage","innerHTML","removeFavoriteBtnHTML","classList","add","onclick","handleFavorite","push","dayRead","image","section","addFavoriteBtnHTML","title","description","date","slice","replaceAll","Math","abs","replace","insertAdjacentHTML","join","dateCardsEls","querySelectorAll","el"],"version":3,"file":"read.53852122.js.map"}