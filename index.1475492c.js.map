{"mappings":"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","sources":["src/index.js","src/components/openWeather/openWeather.js"],"sourcesContent":["import './components/localStorageService/localStorageService.js'\nimport './components/render/render.js';\nimport './components/header/input-hover';\nimport './components/header/open-menu';\nimport './components/header/close-menu';\nimport './components/header/current-page';\nimport './components/header/menu-current-page';\nimport './components/modeSwitcher/modeSwitcher.js';\nimport './components/mostPopular/mostPopular';\nimport './components/articlesSearch/articlesSearch.js';\nimport './components/calendar/calendar.js';\nimport './components/categories/categories.js';\nimport './components/newsCard/newsCard.js';\nimport './components/pagination/pagination.js';\nimport './components/openWeather/openWeather.js';\nimport './components/preLoader/preLoader.js';\nimport './components/footer/footer.js';\n\n\n","const { get } = require(\"lodash\");\n\n \nconst weatherContainer = document.querySelector('.weather-container');\nconst moreWeatherBtn = document.querySelector('.more-weather-btn');\nconst weekWeather = document.querySelector('.week-weather');\nconst closeMoreWeatherBtn = document.querySelector(\".close-more-weather\");\nconst mainWeatherInfo = document.querySelector('.main-weather-info')\nconst WEATHER_KEY = 'a0572400057a18022ba680699689d40f';\n\nlet flag = false;\n\n\nfunction getGeo(params) {\n    \n    const currentPosition = navigator.geolocation.getCurrentPosition(weatherByGeo); \n};\n\n\nasync function weatherByGeo(position) {\n\n    flag = true;\n \n        const latitude  = position.coords.latitude;\n        const longitude = position.coords.longitude;\n    try {\n        \n      \n\n        const url = `https://api.openweathermap.org/data/2.5/weather?lat=${latitude}&lon=${longitude}&appid=${WEATHER_KEY}&units=metric`;\n\n        const response = await fetch(url);\n        const data = await response.json();\n\n        getWeatherRender(response, data);\n    \n        \n        if (flag) {\n            moreWeatherBtn.addEventListener('click', onMoreWeatherBtnClick);\n        }\n    \n            async function onMoreWeatherBtnClick() {\n                \n\n                const url = `https://api.openweathermap.org/data/2.5/forecast?lat=${latitude}&lon=${longitude}&appid=${WEATHER_KEY}&units=metric&cnt=49`;\n                \n                const response = await fetch(url);\n                const data = await response.json();\n\n                getMoreWeatherRender(response, data);\n\n                onMoreWeatherBtn();\n\n            }\n\n        closeMoreWeatherBtn.addEventListener('click', onCloseMoreWeatherBTn)\n        } catch (error) {\n            \n        }    \n        \n};\n\n\nasync function defaultWeather() {\n\n    \n    const defaultCityWeather = 'Kyiv';\n    \n    try {\n        const url = `https://api.openweathermap.org/data/2.5/weather?q=${defaultCityWeather}&appid=${WEATHER_KEY}&units=metric`;\n\n        const response = await fetch(url);\n        const data = await response.json();\n\n        getWeatherRender(response, data);\n\n        \n            moreWeatherBtn.addEventListener('click', onMoreWeatherBtnClick);\n\n        \n    \n        \n            async function onMoreWeatherBtnClick(params) {\n                \n                moreWeatherBtn.classList.add('more-weather-is-hidden');\n\n\n                const url = `https://api.openweathermap.org/data/2.5/forecast?q=${defaultCityWeather}&appid=${WEATHER_KEY}&units=metric&cnt=49`;\n                \n                if (flag === false) {\n                    const response = await fetch(url);\n                    const data = await response.json();\n                    // console.log(data);\n                    getMoreWeatherRender(response, data);\n\n                onMoreWeatherBtn();\n                }\n\n        }\n        \n        closeMoreWeatherBtn.addEventListener('click', onCloseMoreWeatherBTn);\n    } catch (error) {\n        \n    }\n    \n        \n        \n};\n\n\nfunction getWeather(data) {\n\n\n    const location = data.name;\n    const temp = Math.round(data.main.temp);\n    const weatherStatus = data.weather[0].main;\n    const weatherIcon = data.weather[0].icon;\n    const weatherDay = new Date(data.dt * 1000).toLocaleDateString('en', { weekday: 'short', });\n    const weatherDate = new Date(data.dt * 1000).toLocaleDateString( 'en-DE', {year: 'numeric', month: 'short', day: 'numeric' });\n\n    const info = `\n    <div class=\"weather-header\">\n            <div class=\"weather-main\">\n                <div class=\"weather-temp\">${temp}</div>\n                \n                <div class=\"additional-weather-info\">\n                    <div class=\"weather-status\">${weatherStatus}</div>\n                    <div class=\"weather-city\">\n                    \n                    <svg class=\"weather-icon-location\" viewBox=\"0 0 24 32\">\n             <path d=\"M12.16.881C5.603.889.289 6.202.28 12.759v.019c0 2.685.9 5.16 2.414 7.14l-.021-.028s.324.426.376.486l9.11 10.747 9.114-10.749c.047-.058.372-.483.372-.483l.001-.004a11.674 11.674 0 0 0 2.394-7.11v-.015.001C24.033 6.204 18.718.889 12.16.882h-.001zm0 16.199a4.32 4.32 0 1 1 0-8.642 4.32 4.32 0 1 1 0 8.64z\"/>\n        </svg>\n                    ${location}</div>  \n                </div>\n                </div>\n            \n            <div class=\"weather-icon\"><img src=\"http://openweathermap.org/img/wn/${weatherIcon}@2x.png\" alt=\"${weatherIcon}\"></div>\n        </div>\n        <div class=\"weather-date\">${weatherDay} <br> ${weatherDate}</div>`;\n    \n\n\n    mainWeatherInfo.innerHTML = info;\n\n\n    \n};\n\n\nfunction getMoreWeather(data) {\n\n\n    let filteredData = data.list.filter(item => item.dt_txt.includes('12:00:00'));\n\n\n    const moreWeather = filteredData.map((item) => \n\n        `<div class=\"weather-per-day\">\n            <div class=\"weather-more-day\">${new Date((item.dt * 1000)).toLocaleDateString(\"en\", { weekday: \"short\", })}</div>\n            <div class=\"weather-more-icon\"><img src=\"http://openweathermap.org/img/wn/${item.weather[0].icon}@2x.png\" alt=\"${item.weather[0].icon}\"></div>\n            <div class=\"weather-more-temp\">${Math.round(item.main.temp)}</div>\n        </div>`\n        \n        \n    ).join(' ');\n    \n    weekWeather.innerHTML = moreWeather;\n  \n};\n\nfunction onCloseMoreWeatherBTn() {\n            \n    weekWeather.innerHTML = \"\";\n    closeMoreWeatherBtn.classList.add('more-weather-is-hidden');\n    moreWeatherBtn.classList.remove('more-weather-is-hidden');\n};\n\nfunction onMoreWeatherBtn() {\n    moreWeatherBtn.classList.add('more-weather-is-hidden');\n    closeMoreWeatherBtn.classList.remove('more-weather-is-hidden');\n};\n\nfunction getWeatherRender(response, data) {\n    if (response.ok) {\n        getWeather(data);\n        moreWeatherBtn.classList.remove('more-weather-is-hidden');\n            \n        } else {\n        weatherContainer.innerHTML = data.message;\n        }\n};\n\nfunction getMoreWeatherRender(response, data) {\n    if (response.ok) {\n            getMoreWeather(data);\n            \n            } else {\n            weatherContainer.innerHTML = data.message;\n            }\n};\n\n\ndefaultWeather();\n\ngetGeo();\n"],"names":["parcelRequire","$bpxeT","$efd20fe714d6013f$var$weatherContainer","get","document","querySelector","$efd20fe714d6013f$var$moreWeatherBtn","$efd20fe714d6013f$var$weekWeather","$efd20fe714d6013f$var$closeMoreWeatherBtn","$efd20fe714d6013f$var$mainWeatherInfo","$efd20fe714d6013f$var$WEATHER_KEY","$efd20fe714d6013f$var$flag","$efd20fe714d6013f$var$weatherByGeo","position","$efd20fe714d6013f$var$_weatherByGeo","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee1","latitude","longitude","url1","response1","data1","onMoreWeatherBtnClick","_onMoreWeatherBtnClick","_callee","url","response","data","concat","fetch","_ctx","sent","json","$efd20fe714d6013f$var$getMoreWeatherRender","$efd20fe714d6013f$var$onMoreWeatherBtn","coords","_ctx1","$efd20fe714d6013f$var$getWeatherRender","addEventListener","$efd20fe714d6013f$var$onCloseMoreWeatherBTn","$efd20fe714d6013f$var$_defaultWeather","_callee2","defaultCityWeather","url2","response2","data2","params","classList","add","_ctx2","innerHTML","remove","ok","location","name","temp","Math","round","main","weatherStatus","weather","weatherIcon","icon","weatherDay","Date","dt","toLocaleDateString","weekday","weatherDate","year","month","day","info","$efd20fe714d6013f$var$getWeather","message","moreWeather","list","filter","item","dt_txt","includes","map","join","$efd20fe714d6013f$var$getMoreWeather","$efd20fe714d6013f$var$defaultWeather","navigator","geolocation","getCurrentPosition"],"version":3,"file":"index.1475492c.js.map"}