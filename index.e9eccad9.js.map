{"mappings":"sgBACAA,EAAA,S","sources":["src/components/render/render.js"],"sourcesContent":["// import { save, load, remove } from '../LocalStorageService/LocalStorageService';\nimport LocalStorageService from '../LocalStorageService/LocalStorageService';\nimport { getNews } from '../ArticlesSearchAPI/ArticlesSearchAPI';\n// const axios = require('axios').default;\n// const ENDPOINT = 'https://api.nytimes.com/svc/search/v2/articlesearch.json';\n// const API_KEY = 'api-key=HR9YxGV98GGTmMcKHA5eY4Aer5nJgRvJ';\n// import { default as axios } from 'axios';\n// import { Notify } from 'notiflix/build/notiflix-notify-aio';\n// export default class PixabayApiService {\n//   constructor() {\n//     this.page = 1;\n//     this.searchQuery = '';\n//     this.perPage = 40;\n//   }\n\n//   async getNews() {\n//     const URL = `${ENDPOINT}?${API_KEY}&q=${this.searchQuery}`;\n//     const response = await axios.get(URL);\n//     console.log(response.data.response.docs);\n//     if (this.page === 1) {\n//       Notify.success(`Hooray! We found ${response.data.totalHits} images.`);\n//     }\n//     this.nextPage();\n//     return response.data.response.docs;\n//   }\n\n//   nextPage() {\n//     this.page += 1;\n//   }\n//   resetPage() {\n//     this.page = 1;\n//   }\n// }\n// const pixabayApiService = new PixabayApiService();\n\n// const formEl = document.getElementById('search-form');\n// const newsList = document.querySelector('.news-list');\n// console.log(newsList);\n// formEl.addEventListener('submit', onSubmit);\n// async function onSubmit(e) {\n//   e.preventDefault();\n//   const formEl = e.currentTarget;\n//   const value = formEl.elements.searchQuery.value.trim();\n//   pixabayApiService.searchQuery = value;\n//   // getNews(value).then(() => {\n//   //   if (articles.length === 0) throw new Error(\"No data\");\n//   //   return articles.reduce((markup, article) =>\n//   //     createNewsCard(article) + markup, \"\");\n//   // })\n//   // .then(updateCard)\n//   // .catch(onError)\n//   // .finally(() => formEl.reset());\n//   try {\n//     const articles = await pixabayApiService.getNews();\n//     console.log('üöÄ ~ articles', articles);\n//     if (articles.length === 0) throw new Error('No data');\n//     const card = articles.reduce(\n//       (markup, article) => createNewsCard(article) + markup,\n//       ''\n//     );\n//     console.log(card);\n//     updateCard(card);\n//   } catch (err) {\n//     onError();\n//   }\n// }\n// function updateCard(markup) {\n//   newsList.innerHTML = markup;\n// }\n\n// function onError(error) {\n//   console.error(error);\n// }\nexport function createNewsCard({\n  // –ø—Ä–∏ –ø–æ—à—É–∫—É......\n  headline,\n  web_url,\n  section_name,\n  lead_paragraph,\n  pub_date,\n}) {\n  return `<div class=\"news-card\">\n    <div class=\"top-wrap\">\n      <img\n        src=\n        loading=\"lazy\"\n        width=\"288\"\n        height=\"395\"\n      />\n      <p class=\"isread\">Have read</p>\n      <div class=\"category-wrap\">\n        <p class=\"top-text\">${section_name}</p>\n      </div>\n      <button class=\"favorite-btn\">Add to favorite</button>\n    </div>\n    <div class=\"info\">\n      <h2 class=\"info-item\">${headline.main}</h2>\n      <p class=\"describe\">${lead_paragraph.slice(0, 60) + '...'}</p>\n      <div class=\"lower-content\">\n        <p class=\"news-date\">${pub_date.slice(0, 10).replace('-', '/')}</p>\n        <a class=\"news-link link\" href=\"${web_url}\">Read more</a>\n      </div>\n    </div>\n  </div>\n`;\n}\nfunction addNews(markup) {\n  newsList.insertAdjacentHTML('beforeend', markup);\n}\n\nexport function updateNews(markup) {\n  newsList.innerHTML = markup;\n}\n// ///////////////////////////////////////////////////////\n// –ö–Ω–æ–ø–∫–∞ AddToFavourite\n// //////////////////////////////////////////////////////\n// const refs = {\n//   addToFavoriteBtn: document.querySelector('.favorite-btn'),\n//   readMore: document.querySelector('.news-link'),\n// };\n// let currentId = 0;\n// let isFav = false;\n\n// const STORAGE_KEY = 'favorites';\n// const STORAGE_KEY_2 = 'read';\n// refs.addToFavoriteBtn.addEventListener('click', handleFavorite);\n// refs.readMore.addEventListener('click', addToRead);\n\n// function addToRead() {\n//   let dateOfRead = new Date()\n//     .toLocaleDateString({\n//       day: '2-digit',\n//       month: '2-digit',\n//       year: 'numeric',\n//     })\n//     .replace(/\\//g, '.');\n//   const item = {\n//     read: {\n//       [`${dateOfRead}`]: [\n//         {\n//           name: document.querySelector('.info-item').textContent, // refs.addToFavoriteBtn.parentElement.parentElement.lastElementChild.firstElementChild.textContent\n//           URL: document.querySelector('.news-link').getAttribute('href'), //    refs.addToFavoriteBtn.parentElement.parentElement.lastElementChild.lastElementChild.lastElementChild.getAttribute('href'\n//           describe: document.querySelector('.describe').textContent, //refs.addToFavoriteBtn.parentElement.parentElement.lastElementChild.childNodes[3].textContent\n//           date: document.querySelector('.news-date').textContent, //    refs.addToFavoriteBtn.parentElement.parentElement.lastElementChild.lastElementChild.firstElementChild.textContent\n//           category: document.querySelector('.top-text').textContent, //refs.addToFavoriteBtn.previousElementSibling.firstElementChild.textContent\n//           photo: document.querySelector('.top-wrap img').getAttribute('src'), //refs.addToFavoriteBtn.parentElement.parentElement.firstElementChild.firstElementChild.getAttribute(\"src\")\n//           currentId,\n//         },\n//       ],\n//     },\n//   };\n\n//   currentId += 1;\n//   LocalStorageService.save(STORAGE_KEY_2, item);\n// }\n\n\n\n// check if the object already exists in the favorites array in local storage\n// const favoritesArray = [];\n\n\n// const isObjectInFavorites = favoritesArray.some(\n//   obj => obj.name === favObject.name && obj.value === favObject.value\n// );\n\n\n\n\n// function handleFavorite() {\n//   const item = {\n//     name: document.querySelector('.info-item').textContent,\n//     URL: document.querySelector('.news-link').getAttribute('href'),\n//     describe: document.querySelector('.describe').textContent,\n//     date: document.querySelector('.news-date').textContent,\n//     category: document.querySelector('.top-text').textContent,\n//     photo: document.querySelector('.top-wrap img').getAttribute('src'),\n//     isFav,\n//     currentId,\n//   };\n//   if (isFav) {\n//     isFav = false;\n//     refs.addToFavoriteBtn.firstElementChild.textContent = 'Add to favorite';\n//     document\n//       .querySelector('.icon-favorite-remove')\n//       .classList.remove('hide-icon');\n//     document.querySelector('.icon-favorite-add').classList.add('hide-icon');\n//   } else {\n//     const currentState = LocalStorageService.load(STORAGE_KEY);\n//     console.log(currentState);\n//     if (currentState.includes(item)) {\n//       isFav = true;\n//       refs.addToFavoriteBtn.firstElementChild.textContent =\n//         'Remove from favorite';\n//       document\n//         .querySelector('.icon-favorite-remove')\n//         .classList.add('hide-icon');\n//       document\n//         .querySelector('.icon-favorite-add')\n//         .classList.remove('hide-icon');\n//     } else {\n//       isFav = true;\n//       refs.addToFavoriteBtn.firstElementChild.textContent =\n//         'Remove from favorite';\n//       document\n//         .querySelector('.icon-favorite-remove')\n//         .classList.add('hide-icon');\n//       document\n//         .querySelector('.icon-favorite-add')\n//         .classList.remove('hide-icon');\n//       favoritesArray.push(item);\n//       currentId += 1;\n//       LocalStorageService.save(STORAGE_KEY, favoritesArray);\n//     }\n//   }\n// }\n\n\n// function addNewsToStorage(card, date) {\n//   const currentState = LocalStorageService.load(STORAGE_KEY);\n//   if (currentState === undefined) {\n//     LocalStorageService.save(STORAGE_KEY, [createCardObject(card, date)]);\n//   } else {\n//     currentState.push(createCardObject(card, date));\n//     LocalStorageService.save(STORAGE_KEY, currentState);\n//   }\n//   currentId += 1;\n// }\n"],"names":["parcelRequire"],"version":3,"file":"index.e9eccad9.js.map"}