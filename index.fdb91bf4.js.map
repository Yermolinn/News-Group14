{"mappings":"oeAAAA,EAAA,S,+ICAAA,EAAA,SAAMC,IAGN,MAAMC,EAAmBC,SAASC,cAAc,sBAC1CC,EAAiBF,SAASC,cAAc,qBACxCE,EAAcH,SAASC,cAAc,iBACrCG,EAAsBJ,SAASC,cAAc,uBAC7CI,EAAkBL,SAASC,cAAc,sBAG/C,IAAIK,GAAO,EASXC,eAAeC,EAAaC,GAExBH,GAAO,EAEH,MAAMI,EAAYD,EAASE,OAAOD,SAC5BE,EAAYH,EAASE,OAAOC,UACtC,IAII,MAAMC,EAAM,uDAAuDH,SAAgBE,wDAE7EE,QAAiBC,MAAMF,GACvBG,QAAaF,EAASG,OAE5BC,EAAiBJ,EAAUE,GAGvBV,GACAJ,EAAeiB,iBAAiB,SAGhCZ,iBAGI,MAAMa,EAAM,wDAAwDV,SAAgBE,+DAE9ES,QAAiBN,MAAMK,GACvBE,QAAaD,EAASJ,OAE5BM,EAAqBF,EAAUC,GAE/BE,G,IAIRpB,EAAoBe,iBAAiB,QAASM,EAC9B,CAAd,MAAOC,GAAO,C,CAkHxB,SAASD,IAELtB,EAAYwB,UAAY,GACxBvB,EAAoBwB,UAAUC,IAAI,0BAClC3B,EAAe0B,UAAUE,OAAO,yB,CAGpC,SAASN,IACLtB,EAAe0B,UAAUC,IAAI,0BAC7BzB,EAAoBwB,UAAUE,OAAO,yB,CAGzC,SAASZ,EAAiBG,EAAUC,GAC5BD,EAASU,KAzEjB,SAAoBT,GAGhB,MAAMU,EAAWV,EAAKW,KAChBC,EAAOC,KAAKC,MAAMd,EAAKe,KAAKH,MAC5BI,EAAgBhB,EAAKiB,QAAQ,GAAGF,KAChCG,EAAclB,EAAKiB,QAAQ,GAAGE,KAI9BC,EAAO,yHAG2BR,qIAGMI,2gBAM5BN,6JAI6DQ,kBAA4BA,gEAnBxF,IAAIG,KAAe,IAAVrB,EAAKsB,IAAWC,mBAAmB,KAAM,CAAEC,QAAS,kBAC5D,IAAIH,KAAe,IAAVrB,EAAKsB,IAAWC,mBAAoB,QAAS,CAACE,KAAM,UAAWC,MAAO,QAASC,IAAK,oBAwBjH5C,EAAgBsB,UAAYe,C,CA0CxBQ,CAAW5B,GACXpB,EAAe0B,UAAUE,OAAO,2BAGhC/B,EAAiB4B,UAAYL,EAAK6B,O,CAI1C,SAAS5B,EAAqBF,EAAUC,GAChCD,EAASU,GA5CjB,SAAwBT,GAMpB,MAAM8B,EAHa9B,EAAK+B,KAAKC,QAAOC,GAAQA,EAAKC,OAAOC,SAAS,cAGhCC,KAAKH,GAElC,4EACoC,IAAIZ,KAAgB,IAAVY,EAAKX,IAAYC,mBAAmB,KAAM,CAAEC,QAAS,0GACnBS,EAAKhB,QAAQ,GAAGE,qBAAqBc,EAAKhB,QAAQ,GAAGE,4DAChGN,KAAKC,MAAMmB,EAAKlB,KAAKH,gCAI5DyB,KAAK,KAEPxD,EAAYwB,UAAYyB,C,CA4BhBQ,CAAetC,GAGfvB,EAAiB4B,UAAYL,EAAK6B,O,EAtI9C5C,iBAKI,IACI,MAAMsD,EAAM,6GAENC,QAAiB/C,MAAM8C,GACvBE,QAAaD,EAAS7C,OAE5BC,EAAiB4C,EAAUC,GAGvB7D,EAAeiB,iBAAiB,SAKhCZ,eAAqCyD,GAEjC9D,EAAe0B,UAAUC,IAAI,0BAK7B,IAAa,IAATvB,EAAgB,CAChB,MAAMe,QAAiBN,MAHf,sHAIFO,QAAaD,EAASJ,OAE5BM,EAAqBF,EAAUC,GAEnCE,G,KAKRpB,EAAoBe,iBAAiB,QAASM,EAClC,CAAd,MAAOC,GAAO,C,CAqGpBuC,GA3L4BC,UAAUC,YAAYC,mBAAmB5D,G","sources":["src/index.js","src/components/openWeather/openWeather.js"],"sourcesContent":["import './components/localStorageService/localStorageService.js'\nimport './components/render/render.js';\nimport './components/header/input-hover';\nimport './components/header/open-menu';\nimport './components/header/close-menu';\nimport './components/header/current-page';\nimport './components/header/menu-current-page';\nimport './components/modeSwitcher/modeSwitcher.js';\nimport './components/mostPopular/mostPopular';\nimport './components/articlesSearch/articlesSearch.js';\nimport './components/calendar/calendar.js';\nimport './components/categories/categories.js';\nimport './components/newsCard/newsCard.js';\nimport './components/pagination/pagination.js';\nimport './components/openWeather/openWeather.js';\nimport './components/preLoader/preLoader.js';\nimport './components/footer/footer.js';\n\n\n","const { get } = require(\"lodash\");\n\n \nconst weatherContainer = document.querySelector('.weather-container');\nconst moreWeatherBtn = document.querySelector('.more-weather-btn');\nconst weekWeather = document.querySelector('.week-weather');\nconst closeMoreWeatherBtn = document.querySelector(\".close-more-weather\");\nconst mainWeatherInfo = document.querySelector('.main-weather-info')\nconst WEATHER_KEY = 'a0572400057a18022ba680699689d40f';\n\nlet flag = false;\n\n\nfunction getGeo(params) {\n    \n    const currentPosition = navigator.geolocation.getCurrentPosition(weatherByGeo); \n};\n\n\nasync function weatherByGeo(position) {\n\n    flag = true;\n \n        const latitude  = position.coords.latitude;\n        const longitude = position.coords.longitude;\n    try {\n        \n      \n\n        const url = `https://api.openweathermap.org/data/2.5/weather?lat=${latitude}&lon=${longitude}&appid=${WEATHER_KEY}&units=metric`;\n\n        const response = await fetch(url);\n        const data = await response.json();\n\n        getWeatherRender(response, data);\n    \n        \n        if (flag) {\n            moreWeatherBtn.addEventListener('click', onMoreWeatherBtnClick);\n        }\n    \n            async function onMoreWeatherBtnClick() {\n                \n\n                const url = `https://api.openweathermap.org/data/2.5/forecast?lat=${latitude}&lon=${longitude}&appid=${WEATHER_KEY}&units=metric&cnt=49`;\n                \n                const response = await fetch(url);\n                const data = await response.json();\n\n                getMoreWeatherRender(response, data);\n\n                onMoreWeatherBtn();\n\n            }\n\n        closeMoreWeatherBtn.addEventListener('click', onCloseMoreWeatherBTn)\n        } catch (error) {\n            \n        }    \n        \n};\n\n\nasync function defaultWeather() {\n\n    \n    const defaultCityWeather = 'Kyiv';\n    \n    try {\n        const url = `https://api.openweathermap.org/data/2.5/weather?q=${defaultCityWeather}&appid=${WEATHER_KEY}&units=metric`;\n\n        const response = await fetch(url);\n        const data = await response.json();\n\n        getWeatherRender(response, data);\n\n        \n            moreWeatherBtn.addEventListener('click', onMoreWeatherBtnClick);\n\n        \n    \n        \n            async function onMoreWeatherBtnClick(params) {\n                \n                moreWeatherBtn.classList.add('more-weather-is-hidden');\n\n\n                const url = `https://api.openweathermap.org/data/2.5/forecast?q=${defaultCityWeather}&appid=${WEATHER_KEY}&units=metric&cnt=49`;\n                \n                if (flag === false) {\n                    const response = await fetch(url);\n                    const data = await response.json();\n                    // console.log(data);\n                    getMoreWeatherRender(response, data);\n\n                onMoreWeatherBtn();\n                }\n\n        }\n        \n        closeMoreWeatherBtn.addEventListener('click', onCloseMoreWeatherBTn);\n    } catch (error) {\n        \n    }\n    \n        \n        \n};\n\n\nfunction getWeather(data) {\n\n\n    const location = data.name;\n    const temp = Math.round(data.main.temp);\n    const weatherStatus = data.weather[0].main;\n    const weatherIcon = data.weather[0].icon;\n    const weatherDay = new Date(data.dt * 1000).toLocaleDateString('en', { weekday: 'short', });\n    const weatherDate = new Date(data.dt * 1000).toLocaleDateString( 'en-DE', {year: 'numeric', month: 'short', day: 'numeric' });\n\n    const info = `\n    <div class=\"weather-header\">\n            <div class=\"weather-main\">\n                <div class=\"weather-temp\">${temp}</div>\n                \n                <div class=\"additional-weather-info\">\n                    <div class=\"weather-status\">${weatherStatus}</div>\n                    <div class=\"weather-city\">\n                    \n                    <svg class=\"weather-icon-location\" viewBox=\"0 0 24 32\">\n             <path d=\"M12.16.881C5.603.889.289 6.202.28 12.759v.019c0 2.685.9 5.16 2.414 7.14l-.021-.028s.324.426.376.486l9.11 10.747 9.114-10.749c.047-.058.372-.483.372-.483l.001-.004a11.674 11.674 0 0 0 2.394-7.11v-.015.001C24.033 6.204 18.718.889 12.16.882h-.001zm0 16.199a4.32 4.32 0 1 1 0-8.642 4.32 4.32 0 1 1 0 8.64z\"/>\n        </svg>\n                    ${location}</div>  \n                </div>\n                </div>\n            \n            <div class=\"weather-icon\"><img src=\"http://openweathermap.org/img/wn/${weatherIcon}@2x.png\" alt=\"${weatherIcon}\"></div>\n        </div>\n        <div class=\"weather-date\">${weatherDay} <br> ${weatherDate}</div>`;\n    \n\n\n    mainWeatherInfo.innerHTML = info;\n\n\n    \n};\n\n\nfunction getMoreWeather(data) {\n\n\n    let filteredData = data.list.filter(item => item.dt_txt.includes('12:00:00'));\n\n\n    const moreWeather = filteredData.map((item) => \n\n        `<div class=\"weather-per-day\">\n            <div class=\"weather-more-day\">${new Date((item.dt * 1000)).toLocaleDateString(\"en\", { weekday: \"short\", })}</div>\n            <div class=\"weather-more-icon\"><img src=\"http://openweathermap.org/img/wn/${item.weather[0].icon}@2x.png\" alt=\"${item.weather[0].icon}\"></div>\n            <div class=\"weather-more-temp\">${Math.round(item.main.temp)}</div>\n        </div>`\n        \n        \n    ).join(' ');\n    \n    weekWeather.innerHTML = moreWeather;\n  \n};\n\nfunction onCloseMoreWeatherBTn() {\n            \n    weekWeather.innerHTML = \"\";\n    closeMoreWeatherBtn.classList.add('more-weather-is-hidden');\n    moreWeatherBtn.classList.remove('more-weather-is-hidden');\n};\n\nfunction onMoreWeatherBtn() {\n    moreWeatherBtn.classList.add('more-weather-is-hidden');\n    closeMoreWeatherBtn.classList.remove('more-weather-is-hidden');\n};\n\nfunction getWeatherRender(response, data) {\n    if (response.ok) {\n        getWeather(data);\n        moreWeatherBtn.classList.remove('more-weather-is-hidden');\n            \n        } else {\n        weatherContainer.innerHTML = data.message;\n        }\n};\n\nfunction getMoreWeatherRender(response, data) {\n    if (response.ok) {\n            getMoreWeather(data);\n            \n            } else {\n            weatherContainer.innerHTML = data.message;\n            }\n};\n\n\ndefaultWeather();\n\ngetGeo();\n"],"names":["parcelRequire","get","$2cb9e2881b350477$var$weatherContainer","document","querySelector","$2cb9e2881b350477$var$moreWeatherBtn","$2cb9e2881b350477$var$weekWeather","$2cb9e2881b350477$var$closeMoreWeatherBtn","$2cb9e2881b350477$var$mainWeatherInfo","$2cb9e2881b350477$var$flag","async","$2cb9e2881b350477$var$weatherByGeo","position","latitude","coords","longitude","url1","response1","fetch","data1","json","$2cb9e2881b350477$var$getWeatherRender","addEventListener","url","response","data","$2cb9e2881b350477$var$getMoreWeatherRender","$2cb9e2881b350477$var$onMoreWeatherBtn","$2cb9e2881b350477$var$onCloseMoreWeatherBTn","error","innerHTML","classList","add","remove","ok","location","name","temp","Math","round","main","weatherStatus","weather","weatherIcon","icon","info","Date","dt","toLocaleDateString","weekday","year","month","day","$2cb9e2881b350477$var$getWeather","message","moreWeather","list","filter","item","dt_txt","includes","map","join","$2cb9e2881b350477$var$getMoreWeather","url3","response3","data3","params","$2cb9e2881b350477$var$defaultWeather","navigator","geolocation","getCurrentPosition"],"version":3,"file":"index.fdb91bf4.js.map"}