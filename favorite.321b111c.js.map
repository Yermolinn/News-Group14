{"mappings":"6mBAsBA,IAAAA,EACAC,E,iJArBA,IAAIC,EAAU,GAoBdF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,G,EAelCL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,C,uCC2BT,IAAAE,E,6EA5CA,IAAIC,EAAY,GA6BhB,SAASC,EAAWC,GAClB,OAAQ,GAAKA,GAAKC,QAAO,+DAAiE,MAAQ,G,CAcpGJ,EA1CA,SAA4BH,GAC1B,IAAIQ,EAAQJ,EAAUJ,GAOtB,OALKQ,IACHA,EAOJ,WACE,IACE,MAAM,IAAIN,K,CACV,MAAOO,GACP,IAAIC,GAAW,GAAKD,EAAIE,OAAOC,MAAK,yDAEpC,GAAIF,EAGF,OAAOL,EAAWK,EAAQ,G,CAI9B,MAAO,G,CApBGG,GACRT,EAAUJ,GAAMQ,GAGXA,C,KCZTM,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,iJCAzDH,EAAA,S,kECAA,IAAAI,EAAAJ,EAAA,SAMIK,EAAa,GAKjBC,QAAQC,IAAIF,GAMZ,WACE,QAAkDG,IAA9CJ,EAAAK,QAAoBC,KAAK,iBAC3B,OAEFL,EAAaD,EAAAK,QAAoBC,KAAK,gB,CAPxCC,GAUA,WACE,QAA6CH,IAAzCJ,EAAAK,QAAoBC,KAAK,YAE3B,WADa,GAGFN,EAAAK,QAAoBC,KAAK,W,CAdxCE,G,MCfAC,EAAiBb,EAAA,SAAAc,aAA6C,SAAWd,EAAA,SAAAe,QAA6C,SD8CtH,IAAMC,EAAO,CACXC,QAAO,IAAAC,IAAAL,IAGT,SAASM,EAAcC,GAGS,MAAvB,yFAE8BC,OAAhBL,EAAKC,QAAQ,KAAQI,OAALD,EAAK,2B,CAKV,mBAEhCC,OAFmDF,EACnD,yBAEmC,wBAEnCE,OAF2DF,EAC3D,sB,uDEhEFf,EAAAJ,EAAA,aAqCQsB,EAnCFC,EAAkB,cAClBC,EAAY,OACZC,EAAa,QAEbC,EAAaC,SAASC,eAAe,YACrCC,EAAiBF,SAASC,eAAe,mBAE/CF,EAAWI,iBAAiB,UAG5B,WACE,IAAMC,EAAeL,EAAWM,QAAUR,EAAYC,EAGjDI,EAAeG,QADpBD,IAAiBP,EAIjBG,SAASM,KAAKC,UAAYH,EAE1B3B,EAAAK,QAAoB0B,KAAKZ,EAAiBQ,E,IAX5CF,EAAeC,iBAAiB,UAchC,WACE,IAAMC,EAAeF,EAAeG,QAAUR,EAAYC,EAGrDC,EAAWM,QADhBD,IAAiBP,EAIjBG,SAASM,KAAKC,UAAYH,EAE3B3B,EAAAK,QAAoB0B,KAAKZ,EAAiBQ,E,IAMvB,MAFZT,EAAYlB,EAAAK,QAAoBC,KAAKa,KAEnBD,IAAcG,GACpCE,SAASM,KAAKC,UAAYT,EAE1BC,EAAWM,SAAU,EACrBH,EAAeG,SAAU,GAEhBV,IAAcE,IACvBG,SAASM,KAAKC,UAAYV,EAE1BE,EAAWM,SAAU,EACrBH,EAAeG,SAAU,G","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-697b64b78e3f15a9.js","src/favorite.js","src/components/render/render.js","node_modules/@parcel/runtime-js/lib/runtime-146d493152a2c497.js","src/components/modeSwitcher/modeSwitcher.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"StDo9\\\":\\\"favorite.321b111c.js\\\",\\\"ee16w\\\":\\\"sprite.f79beced.svg\\\",\\\"aRedu\\\":\\\"read.4cd26b42.js\\\"}\"));","import './components/header/input-hover';\nimport './components/header/open-menu';\nimport './components/header/close-menu';\nimport './components/header/current-page';\nimport './components/header/menu-current-page';\nimport './components/articlesSearch/articlesSearch.js';\nimport './components/timesNewswire/timesNewswire';\n// import './components/mostPopular/mostPopular';\nimport './components/render/render.js';\nimport './components/button/button.js';\nimport './components/favoriteNews/favoriteNews.js';\nimport './components/footer/footer.js';\nimport './components/preLoader/preLoader.js';\nimport './components/main/main.js';\nimport './components/modeSwitcher/modeSwitcher.js';\n// import './components/newsCard/newsCard.js';\nimport './components/pagination/pagination.js';\n// import './components/readNews/readNews.js';","import localStorageService from '../localStorageService/localStorageService';\n\n//\n// Перевірка на локалсторедж\n//\n\nlet readMoreId = [];\nlet favoriteId = [];\nlet defaultImg = `https://cdn.create.vista.com/api/media/small/251043028/stock-photo-selective-focus-black-news-lettering`;\n\n// readMoreId = localStorageService.save('readMoreLocal', readMoreId);\nconsole.log(readMoreId);\n\n// console.log(localStorageService.load('readMoreLocal').map(elem => elem));\nisReadEmpty();\nisFavoriteEmpty();\n\nfunction isReadEmpty() {\n  if (localStorageService.load('readMoreLocal') === undefined) {\n    return;\n  }\n  readMoreId = localStorageService.load('readMoreLocal');\n}\n\nfunction isFavoriteEmpty() {\n  if (localStorageService.load('favorite') === undefined) {\n    favoriteId = [];\n    return;\n  }\n  favoriteId = localStorageService.load('favorite');\n}\n\nexport function checkLokalStorage(elem, localArr) {\n  if (localArr === undefined) {\n    return;\n  }\n\n  for (let i = 0; i < localArr.length; i += 1) {\n    if (localArr[i].uri === elem.uri) {\n      return true;\n    }\n  }\n}\n//\n//            FAVORITE FUNCTIONAL\n//\nconst refs = {\n  iconSvg: new URL('../../images/sprite.svg', import.meta.url),\n};\n\nfunction createSvgIcon(name) {\n  // створює іконки, але ТІЛЬКИ сердечка\n\n  return `\n    <svg class=\"icon-favorite-remove\" width=\"16\" height=\"16\">\n          <use href=\"${refs.iconSvg}#${name}\"></use>\n    </svg>\n  `;\n}\n\nexport const addFavoriteBtnHTML = `Add to favorite ${createSvgIcon(\n  'icon-favorite-remove'\n)}`;\nexport const removeFavoriteBtnHTML = `Remove from favorite ${createSvgIcon(\n  'icon-favorite-add'\n)}`;\nexport const alreadyRead = `Already read`;\nexport const handleFavorite = (isFav, data, btn) => () => {\n  // логіка кнопки фейворіт\n  btn.classList.toggle('favorite-btn--active');\n\n  if (btn.classList.contains('favorite-btn--active')) {\n    isFav = true;\n    btn.innerHTML = removeFavoriteBtnHTML;\n    for (let i = 0; i < favoriteId.length; i += 1) {\n      if (favoriteId[i].uri === data.uri) {\n        return;\n      }\n    }\n    data.favorite = isFav;\n    favoriteId.push(data);\n    localStorageService.save('favorite', favoriteId);\n  } else {\n    isFav = false;\n    btn.innerHTML = addFavoriteBtnHTML;\n    const index = favoriteId.findIndex(item => item.uri === data.uri);\n    favoriteId.splice(index, 1);\n    localStorageService.save('favorite', favoriteId);\n  }\n};\nexport const handleRead = (data, p, card) => () => {\n  // логіка натискання на read more\n  p.innerHTML = alreadyRead;\n  card.classList.add('opacity');\n  let dateOfRead = new Date()\n    .toLocaleDateString({\n      day: '2-digit',\n      month: '2-digit',\n      year: 'numeric',\n    })\n    .replace(/\\//g, '.');\n  data.dayRead = dateOfRead;\n  console.log(data);\n  for (let i = 0; i < readMoreId.length; i += 1) {\n    if (readMoreId[i].uri === data.uri) {\n      return;\n    }\n  }\n  readMoreId.push(data);\n  localStorageService.save(`readMoreLocal`, readMoreId);\n};\n","module.exports = require('./helpers/bundle-url').getBundleURL('StDo9') + require('./helpers/bundle-manifest').resolve(\"ee16w\");","import localStorageService from '../localStorageService/localStorageService';\n\nconst SWITCH_MODE_KEY = 'currentMode';\nconst DARK_MODE = 'dark';\nconst LIGHT_MODE = 'light';\n\nconst checkboxEl = document.getElementById('checkbox');\nconst checkboxMenuEl = document.getElementById('checkbox-toggle');\n\ncheckboxEl.addEventListener('change', onModeChange);\ncheckboxMenuEl.addEventListener('change', onModeChangeInMenu);\n\nfunction onModeChange() {\n  const selectedMode = checkboxEl.checked ? DARK_MODE : LIGHT_MODE;\n\n  selectedMode === DARK_MODE\n    ? (checkboxMenuEl.checked = true)\n    : (checkboxMenuEl.checked = false);\n\n  document.body.className = selectedMode;\n\n  localStorageService.save(SWITCH_MODE_KEY, selectedMode);\n}\n\nfunction onModeChangeInMenu() {\n  const selectedMode = checkboxMenuEl.checked ? DARK_MODE : LIGHT_MODE;\n\n  selectedMode === DARK_MODE\n    ? (checkboxEl.checked = true)\n    : (checkboxEl.checked = false);\n\n  document.body.className = selectedMode;\n\n localStorageService.save(SWITCH_MODE_KEY, selectedMode);\n}\n\nfunction onGetMode() {\n  const sevedMode = localStorageService.load(SWITCH_MODE_KEY);\n\n  if (sevedMode === '' || sevedMode === LIGHT_MODE) {\n    document.body.className = LIGHT_MODE;\n\n    checkboxEl.checked = false;\n    checkboxMenuEl.checked = false;\n    \n  } else if (sevedMode === DARK_MODE) {\n    document.body.className = DARK_MODE;\n\n    checkboxEl.checked = true;\n    checkboxMenuEl.checked = true;\n  }\n}\n\nonGetMode();\n"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$5OG1Q","$cb1227620b37bb5e$var$readMoreId","console","log","undefined","default","load","$cb1227620b37bb5e$var$isReadEmpty","$cb1227620b37bb5e$var$isFavoriteEmpty","$98d614a671712156$exports","getBundleURL","resolve","$cb1227620b37bb5e$var$refs","iconSvg","URL","$cb1227620b37bb5e$var$createSvgIcon","name","concat","sevedMode","$a2fbf0bec9889afc$var$SWITCH_MODE_KEY","$a2fbf0bec9889afc$var$DARK_MODE","$a2fbf0bec9889afc$var$LIGHT_MODE","$a2fbf0bec9889afc$var$checkboxEl","document","getElementById","$a2fbf0bec9889afc$var$checkboxMenuEl","addEventListener","selectedMode","checked","body","className","save"],"version":3,"file":"favorite.321b111c.js.map"}